<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"  
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"  
    xmlns:context="http://www.springframework.org/schema/context"  
    xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:util="http://www.springframework.org/schema/util"  
    xmlns:tx="http://www.springframework.org/schema/tx"  
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd  
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd  
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd  
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd  
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd"  
    default-autowire="byName">  
    <mvc:annotation-driven />  
      
    <!-- start开启注释 -->  
    <context:component-scan base-package="com.jichengyue.foodsafe">  
        <context:include-filter type="annotation"  
            expression="org.springframework.stereotype.Controller" />  
        <context:exclude-filter type="annotation"  
            expression="org.springframework.stereotype.Service" />  
    </context:component-scan>  
    <!-- end开始注释 -->  
      
    <!-- 全局异常配置 start -->  
    <bean id="exceptionResolver"  
        class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">  
        <property name="exceptionMappings">  
            <props>  
                <prop key="java.lang.Exception">/errors/error</prop>  
                <prop key="java.lang.Throwable">/errors/err</prop>  
            </props>  
        </property>  
        <property name="statusCodes">  
            <props>  
                <prop key="errors/error">500</prop>  
                <prop key="errors/404">404</prop>  
            </props>  
        </property>  
        <!-- 设置日志输出级别，不定义则默认不输出警告等错误日志信息 -->  
        <property name="warnLogCategory" value="WARN"></property>  
        <!-- 默认错误页面，当找不到上面mappings中指定的异常对应视图时，使用本默认配置 -->  
        <property name="defaultErrorView" value="errors/error"></property>  
        <!-- 默认HTTP状态码 -->  
        <property name="defaultStatusCode" value="500"></property>  
    </bean>  
    <!-- 全局异常配置 end -->  
      
    <!-- start视图配置 -->  
    <bean  
        class="org.springframework.web.servlet.view.InternalResourceViewResolver"  
        p:prefix="/views/" p:suffix=".jsp" />  
    <!-- end视图配置 -->  
</beans>